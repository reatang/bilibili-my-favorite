---
description: é¡¹ç›®åŸºç¡€ä¿¡æ¯
globs: 
alwaysApply: false
---
# Bç«™æ”¶è—å¤¹ç®¡ç†ç³»ç»Ÿ - é¡¹ç›®å¼€å‘è§„åˆ™

## é¡¹ç›®æ¦‚è¿°

**é¡¹ç›®åç§°**: bilibili-my-favorite  
**ç‰ˆæœ¬**: 1.0.0  
**æè¿°**: Bç«™æ”¶è—å¤¹æœ¬åœ°åŒæ­¥å’Œç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒWebç•Œé¢å’Œå‘½ä»¤è¡Œå·¥å…·  
**Pythonç‰ˆæœ¬**: >=3.12  

## æ ¸å¿ƒåŠŸèƒ½

- ğŸ”„ è‡ªåŠ¨åŒæ­¥Bç«™æ”¶è—å¤¹æ•°æ®åˆ°æœ¬åœ°SQLiteæ•°æ®åº“
- ğŸ“Š å®Œæ•´çš„è§†é¢‘ä¿¡æ¯å­˜å‚¨ï¼ˆUPä¸»ã€ç»Ÿè®¡æ•°æ®ã€æ”¶è—å…³ç³»ï¼‰
- ğŸ–¼ï¸ è‡ªåŠ¨ä¸‹è½½å’Œç®¡ç†è§†é¢‘å°é¢å›¾ç‰‡
- ğŸ—‘ï¸ è‡ªåŠ¨æ£€æµ‹å·²å¤±æ•ˆè§†é¢‘å¹¶æ ‡è®°åˆ é™¤çŠ¶æ€
- ğŸŒ ç°ä»£åŒ–å‰åç«¯åˆ†ç¦»Webç•Œé¢ï¼ˆFastAPI + React + TailwindCSSï¼‰
- ğŸ” æ”¯æŒè§†é¢‘æœç´¢ã€çŠ¶æ€è¿‡æ»¤ã€åˆ†é¡µæŸ¥è¯¢
- ğŸ“ˆ è¯¦ç»†çš„æ”¶è—å¤¹å’Œè§†é¢‘ç»Ÿè®¡ä¿¡æ¯
- ğŸ› ï¸ å®Œæ•´çš„CLIç®¡ç†å·¥å…·ï¼ˆClick + Richï¼‰
- ğŸ¬ å®˜æ–¹å½±è§†ä½œå“è¯†åˆ«å’Œåˆ†ç±»ç®¡ç†
- ğŸ“ è¯¦ç»†çš„é”™è¯¯æ ˆä¿¡æ¯è®°å½•å’Œè°ƒè¯•æ”¯æŒ
- ğŸ—‚ï¸ è¢«åˆ é™¤è§†é¢‘çš„è¯¦ç»†è®°å½•å’Œè¿½è¸ª

## æŠ€æœ¯æ ˆ

### åç«¯æ¡†æ¶
- **Webæ¡†æ¶**: FastAPI 0.110.0+
- **æ•°æ®åº“**: SQLite + aiosqlite 0.20.0+
- **HTTPå®¢æˆ·ç«¯**: httpx 0.28.1+
- **Bç«™API**: bilibili-api-python 17.1.4+

### å‰ç«¯æ¡†æ¶
- **UIæ¡†æ¶**: React 18 (CDNæ–¹å¼)
- **æ ·å¼æ¡†æ¶**: TailwindCSS (CDNæ–¹å¼)
- **ç¼–è¯‘å·¥å…·**: Babel Standalone (CDNæ–¹å¼)
- **å­—ä½“**: Google Fonts - Noto Sans SC
- **è®¾è®¡é£æ ¼**: äºŒæ¬¡å…ƒå¯çˆ±é£æ ¼ (Kawaii Style)

### å¼€å‘å·¥å…·
- **ä¾èµ–ç®¡ç†**: uv 
- **CLIæ¡†æ¶**: Click 8.1.0+
- **ç»ˆç«¯ç¾åŒ–**: Rich 14.0.0+
- **æ•°æ®éªŒè¯**: Pydantic 2.0.0+
- **é…ç½®ç®¡ç†**: python-dotenv 1.0.0+
- **HTTPè¯·æ±‚**: curl-cffi 0.11.1+

## é¡¹ç›®æ¶æ„

### åˆ†å±‚æ¶æ„è®¾è®¡
```
src/
â”œâ”€â”€ cli.py                           # å‘½ä»¤è¡Œå·¥å…·å…¥å£
â””â”€â”€ bilibili_my_favorite/            # ä¸»è¦æºä»£ç åŒ…
    â”œâ”€â”€ __init__.py                  # åŒ…åˆå§‹åŒ–æ–‡ä»¶
    â”œâ”€â”€ app.py                       # FastAPIåº”ç”¨ä¸»æ–‡ä»¶
    â”œâ”€â”€ core/                        # æ ¸å¿ƒé…ç½®å±‚
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â””â”€â”€ config.py                # é…ç½®ç®¡ç†å’Œç¯å¢ƒå˜é‡
    â”œâ”€â”€ models/                      # æ•°æ®æ¨¡å‹å±‚
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ database.py              # æ•°æ®åº“æ¨¡å‹å’Œè¡¨ç»“æ„å®šä¹‰
    â”‚   â””â”€â”€ database_migration.py    # æ•°æ®åº“è¿ç§»è„šæœ¬
    â”œâ”€â”€ dao/                         # æ•°æ®è®¿é—®å±‚ (DAO)
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ base.py                  # åŸºç¡€DAOç±»å’Œæ•°æ®åº“è¿æ¥ç®¡ç†
    â”‚   â”œâ”€â”€ collection_dao.py        # æ”¶è—å¤¹æ•°æ®è®¿é—®æ“ä½œ
    â”‚   â””â”€â”€ video_dao.py             # è§†é¢‘æ•°æ®è®¿é—®æ“ä½œ
    â”œâ”€â”€ services/                    # ä¸šåŠ¡é€»è¾‘å±‚
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ bilibili_service.py      # Bç«™APIæœåŠ¡å°è£…
    â”‚   â”œâ”€â”€ optimized_sync_service.py # ä¼˜åŒ–çš„åŒæ­¥æœåŠ¡
    â”‚   â””â”€â”€ sync_context.py          # åŒæ­¥ä¸Šä¸‹æ–‡å’ŒçŠ¶æ€ç®¡ç†
    â”œâ”€â”€ api/                         # APIè·¯ç”±å±‚
    â”‚   â”œâ”€â”€ __init__.py
    â”‚   â”œâ”€â”€ models.py                # APIæ•°æ®æ¨¡å‹å’Œå“åº”æ ¼å¼
    â”‚   â”œâ”€â”€ collections.py           # æ”¶è—å¤¹APIè·¯ç”±
    â”‚   â””â”€â”€ videos.py                # è§†é¢‘APIè·¯ç”±
    â””â”€â”€ utils/                       # å·¥å…·å±‚
        â”œâ”€â”€ __init__.py
        â”œâ”€â”€ logger.py                # æ—¥å¿—é…ç½®å’Œå·¥å…·
        â””â”€â”€ downloader.py            # æ–‡ä»¶ä¸‹è½½å·¥å…·
```

### èŒè´£åˆ†ç¦»åŸåˆ™
1. **æ ¸å¿ƒé…ç½®å±‚ (core/)**: ç»Ÿä¸€ç®¡ç†åº”ç”¨é…ç½®ã€ç¯å¢ƒå˜é‡å’Œå…¨å±€è®¾ç½®
2. **APIè·¯ç”±å±‚ (api/)**: å¤„ç†HTTPè¯·æ±‚å“åº”ã€æ•°æ®éªŒè¯å’Œè·¯ç”±åˆ†å‘
3. **ä¸šåŠ¡é€»è¾‘å±‚ (services/)**: æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€åŒæ­¥æœåŠ¡ã€äº‹åŠ¡å¤„ç†å’ŒçŠ¶æ€ç®¡ç†
4. **æ•°æ®è®¿é—®å±‚ (dao/)**: æ•°æ®åº“æ“ä½œæŠ½è±¡ã€SQLæŸ¥è¯¢å’Œè¿æ¥ç®¡ç†
5. **æ•°æ®æ¨¡å‹å±‚ (models/)**: æ•°æ®ç»“æ„å®šä¹‰ã€æ•°æ®åº“åˆå§‹åŒ–å’Œè¿ç§»è„šæœ¬
6. **å·¥å…·å±‚ (utils/)**: é€šç”¨åŠŸèƒ½æ¨¡å—ï¼Œå¦‚æ—¥å¿—è®°å½•ã€æ–‡ä»¶ä¸‹è½½ç­‰
7. **CLIå±‚ (cli.py)**: å‘½ä»¤è¡Œæ¥å£ï¼Œæä¾›å®Œæ•´çš„ç®¡ç†å·¥å…·é›†
8. **å‰ç«¯è§†å›¾å±‚ (templates/)**: Reactç»„ä»¶åŒ–é¡µé¢ï¼Œè´Ÿè´£ç”¨æˆ·ç•Œé¢å’Œäº¤äº’

## æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨ç»“æ„
```sql
-- ç”¨æˆ·è¡¨
users (id, mid, name, face_url, jump_link, created_at, updated_at)

-- æ”¶è—å¤¹è¡¨  
collections (id, bilibili_fid, title, user_mid, description, cover_url, media_count, last_synced, created_at, updated_at)

-- UPä¸»è¡¨
uploaders (id, mid, name, face_url, jump_link, created_at, updated_at)

-- è§†é¢‘è¡¨ (é‡è¦å­—æ®µè¯´æ˜è§ä¸‹æ–¹)
videos (id, bilibili_id, bvid, type, title, cover_url, local_cover_path, intro, page_count, duration, uploader_mid, attr, ctime, pubtime, first_cid, season_info, ogv_info, link, media_list_link, is_deleted, deleted_at, created_at, updated_at)

-- æ”¶è—å…³ç³»è¡¨ï¼ˆå¤šå¯¹å¤šï¼‰
collection_videos (id, collection_id, video_id, fav_time, first_seen, last_seen, created_at, updated_at)

-- è§†é¢‘ç»Ÿè®¡è¡¨
video_stats (id, video_id, collect_count, play_count, danmaku_count, reply_count, view_text, vt, play_switch, recorded_at)

-- åˆ é™¤æ—¥å¿—è¡¨
deletion_logs (id, collection_id, video_bvid, video_title, uploader_name, reason, deleted_at)
```

### é‡è¦å­—æ®µè¯´æ˜
- **videos.ogv_info**: å­˜å‚¨å®˜æ–¹å½±è§†ä½œå“ä¿¡æ¯çš„JSONå­—ç¬¦ä¸²ï¼Œå¦‚æœæ­¤å­—æ®µæœ‰å€¼ï¼Œè¯´æ˜è¯¥è§†é¢‘æ˜¯Bç«™å®˜æ–¹å½±è§†ä½œå“ï¼ˆç”µå½±ã€ç”µè§†å‰§ã€çºªå½•ç‰‡ç­‰ï¼‰
- **videos.season_info**: å­˜å‚¨ç•ªå‰§/ç”µè§†å‰§å­£åº¦ä¿¡æ¯çš„JSONå­—ç¬¦ä¸²ï¼ŒåŒ…å«å­£åº¦ç¼–å·ã€é›†æ•°ç­‰ä¿¡æ¯
- **videos.first_cid**: è§†é¢‘çš„ç¬¬ä¸€ä¸ªåˆ†Pçš„CIDï¼Œç”¨äºæ’­æ”¾å’Œä¸‹è½½
- **videos.attr**: è§†é¢‘å±æ€§æ ‡è¯†ï¼Œç”¨äºåˆ¤æ–­è§†é¢‘çŠ¶æ€ï¼ˆå¦‚æ˜¯å¦å¤±æ•ˆï¼‰
- **videos.type**: è§†é¢‘ç±»å‹ï¼Œ2è¡¨ç¤ºæ™®é€šè§†é¢‘ï¼Œå…¶ä»–å€¼è¡¨ç¤ºç‰¹æ®Šç±»å‹å†…å®¹
- **videos.is_deleted**: è§†é¢‘åˆ é™¤çŠ¶æ€ï¼Œä»collection_videosè¡¨è¿ç§»è€Œæ¥ï¼Œè¡¨ç¤ºå…¨å±€åˆ é™¤çŠ¶æ€
- **videos.deleted_at**: è§†é¢‘åˆ é™¤æ—¶é—´æˆ³

## å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼
- **è¯­è¨€**: æ‰€æœ‰æ³¨é‡Šã€æ–‡æ¡£å­—ç¬¦ä¸²ã€æ—¥å¿—ä¿¡æ¯ä½¿ç”¨ä¸­æ–‡
- **ç¼–ç è§„èŒƒ**: éµå¾ªPEP 8ï¼Œä½¿ç”¨ç±»å‹æç¤º
- **å‘½åè§„èŒƒ**: 
  - ç±»å: PascalCase (å¦‚ `BilibiliService`)
  - å‡½æ•°/å˜é‡: snake_case (å¦‚ `get_video_by_id`)
  - å¸¸é‡: UPPER_SNAKE_CASE (å¦‚ `DATABASE_PATH`)

### é”™è¯¯å¤„ç†
- ä½¿ç”¨ç»“æ„åŒ–å¼‚å¸¸å¤„ç†
- è®°å½•è¯¦ç»†çš„é”™è¯¯æ—¥å¿—å’Œå®Œæ•´é”™è¯¯æ ˆä¿¡æ¯
- APIå±‚è¿”å›æ ‡å‡†åŒ–é”™è¯¯å“åº”
- æœåŠ¡å±‚æŠ›å‡ºä¸šåŠ¡å¼‚å¸¸
- æ‰€æœ‰æ•°æ®åº“æ“ä½œåŒ…å«è¯¦ç»†çš„é”™è¯¯æ ˆè¿½è¸ª
- åŒæ­¥è¿‡ç¨‹ä¸­çš„é”™è¯¯å’Œåˆ é™¤è§†é¢‘ä¿¡æ¯ç»Ÿä¸€è®°å½•å’Œå±•ç¤º

### æ—¥å¿—è§„èŒƒ
```python
# ä½¿ç”¨ç»Ÿä¸€çš„æ—¥å¿—å·¥å…·
from ..utils.logger import logger
import traceback

# æ—¥å¿—çº§åˆ«ä½¿ç”¨
logger.info("æ­£å¸¸æ“ä½œä¿¡æ¯")
logger.warning("è­¦å‘Šä¿¡æ¯") 
logger.error("é”™è¯¯ä¿¡æ¯")
logger.debug("è°ƒè¯•ä¿¡æ¯")

# é”™è¯¯æ ˆè®°å½•è§„èŒƒ
try:
    # ä¸šåŠ¡é€»è¾‘
    pass
except Exception as e:
    error_traceback = traceback.format_exc()
    logger.error(f"æ“ä½œå¤±è´¥: {e}\né”™è¯¯æ ˆ:\n{error_traceback}")
    raise
```

### å¼‚æ­¥ç¼–ç¨‹
- æ‰€æœ‰æ•°æ®åº“æ“ä½œä½¿ç”¨å¼‚æ­¥æ–¹æ³•
- HTTPè¯·æ±‚ä½¿ç”¨å¼‚æ­¥å®¢æˆ·ç«¯
- æœåŠ¡å±‚æ–¹æ³•ç»Ÿä¸€ä½¿ç”¨ async/await

## é…ç½®ç®¡ç†

### ç¯å¢ƒå˜é‡é…ç½®
```env
# Bç«™APIå‡­æ® (å¿…éœ€)
USER_DEDE_USER_ID=ç”¨æˆ·ID
USER_SESSDATA=ä¼šè¯æ•°æ®
USER_BILI_JCT=CSRFä»¤ç‰Œ
USER_BUVID3=æµè§ˆå™¨æ ‡è¯†
USER_AC_TIME_VALUE=è®¿é—®æ—¶é—´å€¼

# WebæœåŠ¡å™¨é…ç½®
WEB_HOST=127.0.0.1
WEB_PORT=8000
DEBUG=false

# ä¸‹è½½é…ç½®
DOWNLOAD_TIMEOUT=10
MAX_PAGES_PER_COLLECTION=50
REQUEST_DELAY=0.5

# æ—¥å¿—é…ç½®
LOG_LEVEL=INFO
```

### ç›®å½•ç»“æ„
```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ src/                           # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ cli.py                     # å‘½ä»¤è¡Œå·¥å…·å…¥å£
â”‚   â””â”€â”€ bilibili_my_favorite/      # ä¸»è¦æºä»£ç åŒ…
â”œâ”€â”€ templates/                     # å‰ç«¯é¡µé¢æ¨¡æ¿ç›®å½•
â”‚   â”œâ”€â”€ index.html                 # æ”¶è—å¤¹åˆ—è¡¨é¡µ (React + TailwindCSS)
â”‚   â”œâ”€â”€ collection_detail.html     # æ”¶è—å¤¹è¯¦æƒ…é¡µ (React + TailwindCSS)
â”‚   â”œâ”€â”€ sync.html                  # åŒæ­¥ç®¡ç†é¡µ (React + TailwindCSS)
â”‚   â”œâ”€â”€ stats.html                 # ç»Ÿè®¡ä¿¡æ¯é¡µ (React + TailwindCSS)
â”‚   â”œâ”€â”€ error_404.html             # 404é”™è¯¯é¡µ (React + TailwindCSS)
â”‚   â””â”€â”€ error_500.html             # 500é”™è¯¯é¡µ (React + TailwindCSS)
â”œâ”€â”€ data/                          # åŒæ­¥æ•°æ®ä¸´æ—¶å­˜å‚¨
â”œâ”€â”€ covers/                        # è§†é¢‘å°é¢å›¾ç‰‡å­˜å‚¨
â”œâ”€â”€ logs/                          # åº”ç”¨æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ .env                           # ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ .gitignore                     # Gitå¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ .python-version                # Pythonç‰ˆæœ¬æŒ‡å®š
â”œâ”€â”€ bilibili_favorites.db          # SQLiteä¸»æ•°æ®åº“
â”œâ”€â”€ bilibili_favorites.db-wal      # SQLite WALæ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ bilibili_favorites.db-shm      # SQLiteå…±äº«å†…å­˜æ–‡ä»¶
â”œâ”€â”€ pyproject.toml                 # é¡¹ç›®é…ç½®å’Œä¾èµ–ç®¡ç†
â”œâ”€â”€ uv.lock                        # ä¾èµ–é”å®šæ–‡ä»¶
â”œâ”€â”€ README.md                      # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â”œâ”€â”€ LICENSE                        # å¼€æºè®¸å¯è¯
â”œâ”€â”€ FRONTEND_README.md             # å‰ç«¯æ¶æ„è¯´æ˜æ–‡æ¡£
â””â”€â”€ web_server.py                  # ç‹¬ç«‹WebæœåŠ¡å™¨å¯åŠ¨è„šæœ¬
```

## APIè®¾è®¡è§„èŒƒ

### RESTful API
- ä½¿ç”¨æ ‡å‡†HTTPæ–¹æ³• (GET, POST, PUT, DELETE)
- ç»Ÿä¸€çš„å“åº”æ ¼å¼
- åˆ†é¡µæŸ¥è¯¢æ”¯æŒ
- é”™è¯¯ç æ ‡å‡†åŒ–
- æ”¯æŒè·¨åŸŸè¯·æ±‚ (CORS)
- JSONæ•°æ®äº¤æ¢æ ¼å¼

### ä¸»è¦ç«¯ç‚¹
```
# æ”¶è—å¤¹ç›¸å…³API
GET    /api/collections/              # è·å–æ”¶è—å¤¹åˆ—è¡¨
GET    /api/collections/{id}          # è·å–æ”¶è—å¤¹è¯¦æƒ…
POST   /api/sync                      # åŒæ­¥æ”¶è—å¤¹ (å•ä¸ª)
POST   /api/collections/sync          # åŒæ­¥æ”¶è—å¤¹ (å…¼å®¹æ—§ç‰ˆ)

# è§†é¢‘ç›¸å…³API
GET    /api/videos/collections/{id}   # è·å–æ”¶è—å¤¹è§†é¢‘ (åˆ†é¡µ)
GET    /api/collections/{id}/videos   # è·å–æ”¶è—å¤¹è§†é¢‘ (å…¼å®¹è·¯å¾„)
GET    /api/videos/{id}               # è·å–è§†é¢‘è¯¦æƒ…
GET    /api/videos/bvid/{bvid}        # æ ¹æ®BVIDè·å–è§†é¢‘

# ç»Ÿè®¡ç›¸å…³API
GET    /api/stats                     # è·å–ç»Ÿè®¡ä¿¡æ¯

# é¡µé¢è·¯ç”± (å‰ç«¯)
GET    /                              # æ”¶è—å¤¹åˆ—è¡¨é¡µ
GET    /collections/{id}              # æ”¶è—å¤¹è¯¦æƒ…é¡µ
GET    /sync                          # åŒæ­¥ç®¡ç†é¡µ
GET    /stats                         # ç»Ÿè®¡ä¿¡æ¯é¡µ
```

### APIå“åº”æ ¼å¼

#### æˆåŠŸå“åº”
```json
{
    "data": {...},           // å…·ä½“æ•°æ®
    "message": "æ“ä½œæˆåŠŸ",   // å¯é€‰çš„æ¶ˆæ¯
    "timestamp": "2024-01-01T00:00:00Z"
}
```

#### é”™è¯¯å“åº”
```json
{
    "detail": "é”™è¯¯è¯¦æƒ…",
    "error_code": "ERROR_CODE",
    "timestamp": "2024-01-01T00:00:00Z"
}
```

#### åˆ†é¡µå“åº”
```json
{
    "data": [...],
    "pagination": {
        "page": 1,
        "page_size": 20,
        "total": 100,
        "total_pages": 5
    }
}
```

### å‰åç«¯æ•°æ®äº¤äº’

#### å¼‚æ­¥åŠ è½½æ¨¡å¼
- é¡µé¢é¦–æ¬¡åŠ è½½æ—¶æ˜¾ç¤ºåŠ è½½åŠ¨ç”»
- é€šè¿‡AJAXè·å–APIæ•°æ®
- é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- çŠ¶æ€åé¦ˆç»™ç”¨æˆ·

#### åŒæ­¥æ“ä½œæµç¨‹
```javascript
// 1. ç”¨æˆ·é€‰æ‹©æ”¶è—å¤¹å¹¶æäº¤
const syncData = {
    collection_id: selectedId,
    force_download_covers: forceDownload
};

// 2. å‘é€åŒæ­¥è¯·æ±‚
const response = await fetch('/api/sync', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(syncData)
});

// 3. å¤„ç†å“åº”ç»“æœ
if (response.ok) {
    const result = await response.json();
    displaySyncResult(result);
} else {
    handleSyncError(response);
}
```

## å‘½ä»¤è¡Œå·¥å…·

### ä¸»è¦å‘½ä»¤
```bash
python src/cli.py init-db           # åˆå§‹åŒ–æ•°æ®åº“
python src/cli.py sync              # åŒæ­¥æ‰€æœ‰æ”¶è—å¤¹
python src/cli.py sync -c ID        # åŒæ­¥æŒ‡å®šæ”¶è—å¤¹
python src/cli.py list-collections  # åˆ—å‡ºæ”¶è—å¤¹
python src/cli.py list-videos ID    # åˆ—å‡ºè§†é¢‘
python src/cli.py list-official     # åˆ—å‡ºå®˜æ–¹å½±è§†ä½œå“
python src/cli.py list-deleted      # åˆ—å‡ºæœ€è¿‘è¢«åˆ é™¤çš„è§†é¢‘
python src/cli.py stats             # æ˜¾ç¤ºç»Ÿè®¡ï¼ˆåŒ…å«å®˜æ–¹å½±è§†ä½œå“ç»Ÿè®¡ï¼‰
python src/cli.py serve             # å¯åŠ¨WebæœåŠ¡
python src/cli.py clean             # æ¸…ç†ä¸­æ–­çš„åŒæ­¥ä»»åŠ¡
```

## éƒ¨ç½²å’Œè¿è¡Œ

### å¼€å‘ç¯å¢ƒ
```bash
# å®‰è£…ä¾èµ–
uv sync

# åˆå§‹åŒ–æ•°æ®åº“
bilibili-favorites init-db

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
bilibili-favorites serve --reload
```

### ç”Ÿäº§ç¯å¢ƒ
```bash
# ä½¿ç”¨uvicornç›´æ¥è¿è¡Œ
uvicorn src.bilibili_my_favorite.app:app --host 0.0.0.0 --port 8000

# æˆ–ä½¿ç”¨gunicorn
gunicorn src.bilibili_my_favorite.app:app -w 4 -k uvicorn.workers.UvicornWorker

# ä½¿ç”¨ç‹¬ç«‹WebæœåŠ¡å™¨è„šæœ¬
python web_server.py
```

## æ‰©å±•å¼€å‘æŒ‡å—

### æ·»åŠ æ–°APIç«¯ç‚¹
1. åœ¨ `src/bilibili_my_favorite/api/` ä¸‹åˆ›å»ºæˆ–ä¿®æ”¹è·¯ç”±æ–‡ä»¶
2. åœ¨ `src/bilibili_my_favorite/api/models.py` ä¸­å®šä¹‰æ•°æ®æ¨¡å‹
3. åœ¨ `src/bilibili_my_favorite/app.py` ä¸­æ³¨å†Œè·¯ç”±
4. æ›´æ–°APIæ–‡æ¡£

### æ·»åŠ æ–°æœåŠ¡
1. åœ¨ `src/bilibili_my_favorite/services/` ä¸‹åˆ›å»ºæœåŠ¡ç±»
2. å®ç°ä¸šåŠ¡é€»è¾‘æ–¹æ³•
3. åœ¨ç›¸åº”çš„APIè·¯ç”±ä¸­è°ƒç”¨
4. æ·»åŠ å•å…ƒæµ‹è¯•

### æ·»åŠ æ–°DAO
1. ç»§æ‰¿ `src/bilibili_my_favorite/dao/base.py` ä¸­çš„ `BaseDAO` ç±»
2. å®ç°ç‰¹å®šçš„æ•°æ®è®¿é—®æ–¹æ³•
3. åœ¨æœåŠ¡å±‚ä¸­ä½¿ç”¨
4. ç¡®ä¿å¼‚æ­¥æ“ä½œå’Œé”™è¯¯å¤„ç†

### æ•°æ®åº“è¿ç§»
1. ä¿®æ”¹ `src/bilibili_my_favorite/models/database.py` ä¸­çš„è¡¨ç»“æ„
2. åœ¨ `src/bilibili_my_favorite/models/database_migration.py` ä¸­å®ç°è¿ç§»è„šæœ¬
3. æ›´æ–°ç‰ˆæœ¬å·
4. æµ‹è¯•è¿ç§»è¿‡ç¨‹å’Œæ•°æ®å®Œæ•´æ€§

## æ³¨æ„äº‹é¡¹

### Bç«™APIä½¿ç”¨
- éµå®ˆBç«™APIä½¿ç”¨è§„èŒƒ
- æ§åˆ¶è¯·æ±‚é¢‘ç‡ï¼Œé¿å…è¢«å°ç¦
- å®šæœŸæ›´æ–°APIå‡­æ®
- å¤„ç†APIé™æµå’Œé”™è¯¯

### æ€§èƒ½ä¼˜åŒ–
- ä½¿ç”¨å¼‚æ­¥æ“ä½œæé«˜å¹¶å‘æ€§èƒ½
- æ‰¹é‡å¤„ç†æ•°æ®åº“æ“ä½œ
- åˆç†ä½¿ç”¨ç¼“å­˜
- ä¼˜åŒ–SQLæŸ¥è¯¢

### å®‰å…¨è€ƒè™‘
- ä¿æŠ¤Bç«™APIå‡­æ®å®‰å…¨
- éªŒè¯ç”¨æˆ·è¾“å…¥
- é˜²æ­¢SQLæ³¨å…¥
- é™åˆ¶æ–‡ä»¶è®¿é—®æƒé™

## æµ‹è¯•è§„èŒƒ

### å•å…ƒæµ‹è¯•
- ä¸ºæ¯ä¸ªæœåŠ¡ç±»ç¼–å†™æµ‹è¯•
- æµ‹è¯•è¦†ç›–ç‡ > 80%
- ä½¿ç”¨pytestæ¡†æ¶
- Mockå¤–éƒ¨ä¾èµ–

### é›†æˆæµ‹è¯•
- æµ‹è¯•APIç«¯ç‚¹
- æµ‹è¯•æ•°æ®åº“æ“ä½œ
- æµ‹è¯•åŒæ­¥æµç¨‹
- æµ‹è¯•é”™è¯¯å¤„ç†

## ç‰ˆæœ¬ç®¡ç†

### ç‰ˆæœ¬å·è§„åˆ™
- ä¸»ç‰ˆæœ¬å·: é‡å¤§æ¶æ„å˜æ›´
- æ¬¡ç‰ˆæœ¬å·: æ–°åŠŸèƒ½æ·»åŠ 
- ä¿®è®¢å·: Bugä¿®å¤

### å‘å¸ƒæµç¨‹
1. æ›´æ–°ç‰ˆæœ¬å·
2. æ›´æ–°CHANGELOG
3. è¿è¡Œå®Œæ•´æµ‹è¯•
4. åˆ›å»ºå‘å¸ƒæ ‡ç­¾
5. éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

## æ–°å¢åŠŸèƒ½è¯¦è§£

### é”™è¯¯æ ˆä¿¡æ¯è®°å½•
- **ç›®æ ‡**: æä¾›å®Œæ•´çš„é”™è¯¯è°ƒè¯•ä¿¡æ¯ï¼Œå¿«é€Ÿå®šä½é—®é¢˜æ ¹æº
- **å®ç°**: åœ¨æ‰€æœ‰å¼‚å¸¸å¤„ç†ä¸­ä½¿ç”¨ `traceback.format_exc()` è®°å½•å®Œæ•´é”™è¯¯æ ˆ
- **è¦†ç›–èŒƒå›´**: 
  - æ•°æ®åº“æ“ä½œå±‚ (BaseDAO)
  - åŒæ­¥æœåŠ¡å±‚ (OptimizedSyncService)
  - CLIå‘½ä»¤æ‰§è¡Œ
  - è§†é¢‘å¤„ç†å’Œå°é¢ä¸‹è½½
- **æ—¥å¿—æ ¼å¼**: 
  ```
  é”™è¯¯ä¿¡æ¯: å…·ä½“é”™è¯¯æè¿°
  é”™è¯¯æ ˆ:
  Traceback (most recent call last):
    File "...", line xxx, in function_name
      code_line
  ErrorType: è¯¦ç»†é”™è¯¯ä¿¡æ¯
  ```

### å®˜æ–¹å½±è§†ä½œå“ç®¡ç†
- **è¯†åˆ«æœºåˆ¶**: é€šè¿‡ `ogv_info` å­—æ®µåˆ¤æ–­æ˜¯å¦ä¸ºå®˜æ–¹å½±è§†ä½œå“
- **æ•°æ®å­˜å‚¨**: JSONæ ¼å¼å­˜å‚¨å½±è§†ä½œå“å…ƒæ•°æ®ï¼ˆç±»å‹ã€å¹´ä»½ã€é›†æ•°ç­‰ï¼‰
- **åˆ†ç±»åŠŸèƒ½**: è‡ªåŠ¨è¯†åˆ«ç”µå½±ã€ç”µè§†å‰§ã€çºªå½•ç‰‡ç­‰ç±»å‹
- **æŸ¥è¯¢æ¥å£**: 
  - `get_official_videos()`: è·å–å®˜æ–¹å½±è§†ä½œå“åˆ—è¡¨
  - `get_video_type_stats()`: è·å–è§†é¢‘ç±»å‹ç»Ÿè®¡
- **CLIå‘½ä»¤**: `list-official` ä¸“é—¨æŸ¥çœ‹å®˜æ–¹å½±è§†ä½œå“
- **ç»Ÿè®¡å±•ç¤º**: åœ¨ç³»ç»Ÿç»Ÿè®¡ä¸­åŒºåˆ†æ™®é€šè§†é¢‘å’Œå®˜æ–¹å½±è§†ä½œå“

### åˆ é™¤è§†é¢‘è¯¦ç»†è®°å½•
- **è®°å½•æœºåˆ¶**: åŒæ­¥è¿‡ç¨‹ä¸­è‡ªåŠ¨è®°å½•è¢«åˆ é™¤çš„è§†é¢‘è¯¦æƒ…
- **æ•°æ®ç»“æ„**: 
  ```python
  {
      "bvid": "è§†é¢‘BVID",
      "title": "è§†é¢‘æ ‡é¢˜", 
      "uploader_name": "UPä¸»åç§°",
      "collection_title": "æ‰€å±æ”¶è—å¤¹",
      "deleted_at": "åˆ é™¤æ—¶é—´æˆ³"
  }
  ```
- **å­˜å‚¨ä½ç½®**: 
  - å®æ—¶è®°å½•: `SyncContext.stats["deleted_videos"]`
  - æŒä¹…åŒ–: `deletion_logs` æ•°æ®åº“è¡¨
- **å±•ç¤ºæ–¹å¼**:
  - åŒæ­¥å®Œæˆåæ˜¾ç¤ºåˆ é™¤è§†é¢‘æ‘˜è¦
  - CLIå‘½ä»¤ `list-deleted` æŸ¥çœ‹å†å²åˆ é™¤è®°å½•
  - æ”¯æŒåˆ†é¡µå’Œæ—¶é—´æ’åº
- **ç»Ÿè®¡ä¿¡æ¯**: åœ¨åŒæ­¥ç»“æœä¸­æ˜¾ç¤ºåˆ é™¤è§†é¢‘æ•°é‡å’Œè¯¦æƒ…

### æ•°æ®åº“ç»“æ„ä¼˜åŒ–
- **å­—æ®µè¿ç§»**: å°† `is_deleted` å’Œ `deleted_at` ä» `collection_videos` è¿ç§»åˆ° `videos` è¡¨
- **å…¨å±€åˆ é™¤çŠ¶æ€**: è§†é¢‘åˆ é™¤çŠ¶æ€ä¸å†å±€é™äºç‰¹å®šæ”¶è—å¤¹ï¼Œè€Œæ˜¯å…¨å±€çŠ¶æ€
- **è‡ªåŠ¨è¿ç§»**: åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨æ£€æŸ¥å¹¶æ‰§è¡Œæ•°æ®åº“ç»“æ„è¿ç§»
- **å‘åå…¼å®¹**: è¿ç§»è¿‡ç¨‹ä¿ç•™åŸæœ‰æ•°æ®ï¼Œç¡®ä¿æ•°æ®å®Œæ•´æ€§

### åŒæ­¥ç»“æœå±•ç¤ºä¼˜åŒ–
- **ç»“æ„åŒ–è¾“å‡º**: ä½¿ç”¨Richåº“ç¾åŒ–CLIè¾“å‡º
- **åˆ†ç±»ç»Ÿè®¡**: åŒºåˆ†æ™®é€šè§†é¢‘ã€å®˜æ–¹å½±è§†ä½œå“ã€åˆ é™¤è§†é¢‘ç­‰
- **é”™è¯¯æ±‡æ€»**: ç»Ÿä¸€å±•ç¤ºåŒæ­¥è¿‡ç¨‹ä¸­çš„é”™è¯¯ä¿¡æ¯
- **åˆ é™¤æ±‡æ€»**: è¯¦ç»†åˆ—å‡ºè¢«åˆ é™¤çš„è§†é¢‘ä¿¡æ¯
- **è¿›åº¦è¿½è¸ª**: æ”¯æŒä¸­æ–­æ¢å¤çš„åŒæ­¥ä»»åŠ¡ç®¡ç†

## å‰ç«¯æ¶æ„è®¾è®¡

### æ¶æ„é€‰æ‹©
é‡‡ç”¨**CDNæ¨¡å¼çš„å‰åç«¯åˆ†ç¦»æ¶æ„**ï¼Œé¿å…äº†å¤æ‚çš„æ„å»ºå·¥å…·é…ç½®ï¼Œå®ç°å³å¼€å³ç”¨çš„å¼€å‘ä½“éªŒï¼š

```
å‰ç«¯æ¶æ„
â”œâ”€â”€ CDNä¾èµ–
â”‚   â”œâ”€â”€ React 18 (react.development.js)
â”‚   â”œâ”€â”€ ReactDOM 18 (react-dom.development.js)
â”‚   â”œâ”€â”€ Babel Standalone (babel.min.js)
â”‚   â””â”€â”€ TailwindCSS (tailwindcss CDN)
â”œâ”€â”€ é¡µé¢ç»“æ„
â”‚   â”œâ”€â”€ templates/index.html              # æ”¶è—å¤¹åˆ—è¡¨é¡µ
â”‚   â”œâ”€â”€ templates/collection_detail.html  # æ”¶è—å¤¹è¯¦æƒ…é¡µ
â”‚   â”œâ”€â”€ templates/sync.html               # åŒæ­¥ç®¡ç†é¡µ
â”‚   â”œâ”€â”€ templates/stats.html              # ç»Ÿè®¡ä¿¡æ¯é¡µ
â”‚   â”œâ”€â”€ templates/error_404.html          # 404é”™è¯¯é¡µ
â”‚   â””â”€â”€ templates/error_500.html          # 500é”™è¯¯é¡µ
â””â”€â”€ APIäº¤äº’
    â”œâ”€â”€ Fetch API (åŸç”ŸJavaScript)
    â”œâ”€â”€ å¼‚æ­¥æ•°æ®åŠ è½½
    â”œâ”€â”€ é”™è¯¯å¤„ç†å’ŒçŠ¶æ€ç®¡ç†
    â””â”€â”€ å“åº”å¼è®¾è®¡
```

### è®¾è®¡é£æ ¼ç³»ç»Ÿ

#### Kawaiiå¯çˆ±é£æ ¼é…è‰²
```css
--kawaii-pink: #FFB7D1      /* å¯çˆ±ç²‰ */
--kawaii-purple: #C8A8E9    /* æ¢¦å¹»ç´« */
--kawaii-blue: #A8D8EA      /* å¤©ç©ºè“ */
--kawaii-yellow: #FFFACD    /* æŸ æª¬é»„ */
--kawaii-mint: #B8E6B8      /* è–„è·ç»¿ */
```

#### è§†è§‰ç‰¹æ•ˆ
- **æ¸å˜èƒŒæ™¯**: `linear-gradient(135deg, #FFE4E6 0%, #E8D5FF 50%, #D1E7FF 100%)`
- **åŠ¨ç”»æ•ˆæœ**: æ‚¬åœå˜æ¢ã€è„‰å†²åŠ¨ç”»ã€åŠ è½½åŠ¨ç”»
- **é˜´å½±ç³»ç»Ÿ**: å¤šå±‚æ¬¡é˜´å½±è¥é€ ç«‹ä½“æ„Ÿ
- **åœ†è§’è®¾è®¡**: ç»Ÿä¸€ä½¿ç”¨ `rounded-2xl`ã€`rounded-3xl` ç­‰åœ†è§’
- **è¡¨æƒ…ç¬¦å·**: å¹¿æ³›ä½¿ç”¨å¯çˆ±è¡¨æƒ…ç¬¦å·å¢å¼ºè§†è§‰æ•ˆæœ

#### å­—ä½“ç³»ç»Ÿ
- **ä¸»å­—ä½“**: Noto Sans SC (Google Fonts)
- **å­—é‡**: 300/400/500/600/700
- **ç‰¹ç‚¹**: æ”¯æŒä¸­æ–‡æ˜¾ç¤ºï¼Œç°ä»£ç®€æ´

### é¡µé¢è®¾è®¡è¯¦è§£

#### æ”¶è—å¤¹åˆ—è¡¨é¡µ (`index.html`)
- **å¸ƒå±€**: å“åº”å¼ç½‘æ ¼å¸ƒå±€ (grid-cols-1 md:grid-cols-2 lg:grid-cols-3)
- **å¡ç‰‡è®¾è®¡**: ç»ç’ƒæ‹Ÿæ€æ•ˆæœ (`bg-white/80 backdrop-blur-sm`)
- **äº¤äº’**: æ‚¬åœæ”¾å¤§ã€æ¸å˜è¾¹æ¡†ã€é˜´å½±å˜åŒ–
- **åŠŸèƒ½**: å°é¢å±•ç¤ºã€æ”¶è—æ•°é‡ã€æœ€ååŒæ­¥æ—¶é—´
- **å¯¼èˆª**: ç»Ÿä¸€çš„é¡¶éƒ¨å¯¼èˆªæ 

#### æ”¶è—å¤¹è¯¦æƒ…é¡µ (`collection_detail.html`)
- **è§†é¢‘å¡ç‰‡**: å¤§å°ºå¯¸å¡ç‰‡å±•ç¤ºï¼ŒåŒ…å«å°é¢ã€æ ‡é¢˜ã€UPä¸»ä¿¡æ¯
- **çŠ¶æ€æŒ‡ç¤º**: åˆ é™¤çŠ¶æ€ã€å®˜æ–¹å½±è§†ä½œå“æ ‡è®°
- **åˆ†é¡µç³»ç»Ÿ**: è‡ªå®šä¹‰åˆ†é¡µç»„ä»¶ï¼Œæ”¯æŒè·³é¡µ
- **ç­›é€‰åŠŸèƒ½**: çŠ¶æ€ç­›é€‰ã€æœç´¢åŠŸèƒ½
- **ç»Ÿè®¡ä¿¡æ¯**: é¡¶éƒ¨å±•ç¤ºæ”¶è—å¤¹åŸºæœ¬ä¿¡æ¯

#### åŒæ­¥ç®¡ç†é¡µ (`sync.html`)
- **æ”¶è—å¤¹é€‰æ‹©**: ä¸‹æ‹‰é€‰æ‹©æ¡†ï¼Œè‡ªåŠ¨åŠ è½½æ”¶è—å¤¹åˆ—è¡¨
- **é…ç½®é€‰é¡¹**: å¼ºåˆ¶é‡æ–°ä¸‹è½½å°é¢çš„å¤é€‰æ¡†
- **åŒæ­¥è¿‡ç¨‹**: å®æ—¶çŠ¶æ€å±•ç¤ºã€è¿›åº¦åŠ¨ç”»
- **ç»“æœå±•ç¤º**: è¯¦ç»†çš„åŒæ­¥ç»Ÿè®¡ï¼ŒåŒ…å«å›¾æ ‡å’Œæ•°å€¼
- **å®‰å…¨è®¾è®¡**: å•ä¸ªæ”¶è—å¤¹åŒæ­¥ï¼Œé¿å…ç½‘ç»œè¶…æ—¶

#### ç»Ÿè®¡ä¿¡æ¯é¡µ (`stats.html`)
- **æ•°æ®å¯è§†åŒ–**: ä½¿ç”¨å½©è‰²å¡ç‰‡å±•ç¤ºå„ç±»ç»Ÿè®¡
- **åˆ†ç±»ç»Ÿè®¡**: åŒºåˆ†æ™®é€šè§†é¢‘å’Œå®˜æ–¹å½±è§†ä½œå“
- **å®æ—¶æ•°æ®**: è‡ªåŠ¨ä»APIè·å–æœ€æ–°ç»Ÿè®¡ä¿¡æ¯
- **å“åº”å¼å¸ƒå±€**: é€‚é…ä¸åŒå±å¹•å°ºå¯¸

#### é”™è¯¯é¡µé¢ (`error_404.html`, `error_500.html`)
- **å¯çˆ±é”™è¯¯æç¤º**: ä½¿ç”¨è¡¨æƒ…ç¬¦å·å’Œå‹å¥½æ–‡æ¡ˆ
- **å¼•å¯¼æ“ä½œ**: æä¾›è¿”å›é¦–é¡µçš„æ˜ç¡®è·¯å¾„
- **ä¸€è‡´è®¾è®¡**: ä¿æŒä¸ä¸»é¢˜é£æ ¼ä¸€è‡´

### ç»„ä»¶åŒ–è®¾è®¡

#### é€šç”¨ç»„ä»¶
- **å¯¼èˆªæ **: ç»Ÿä¸€çš„é¡¶éƒ¨å¯¼èˆªï¼Œæ”¯æŒå½“å‰é¡µé¢é«˜äº®
- **åŠ è½½åŠ¨ç”»**: ç»Ÿä¸€çš„ spinner åŠ¨ç”»æ•ˆæœ
- **çŠ¶æ€æç¤º**: æˆåŠŸã€é”™è¯¯ã€è­¦å‘Šçš„ç»Ÿä¸€æ ·å¼
- **æŒ‰é’®ç³»ç»Ÿ**: æ¸å˜èƒŒæ™¯ã€æ‚¬åœæ•ˆæœã€ç¦ç”¨çŠ¶æ€

#### çŠ¶æ€ç®¡ç†
```javascript
// React Hooks çŠ¶æ€ç®¡ç†æ¨¡å¼
const [data, setData] = useState([]);
const [loading, setLoading] = useState(false);
const [error, setError] = useState(null);
const [status, setStatus] = useState(null);
```

#### APIäº¤äº’æ¨¡å¼
```javascript
// ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’ŒåŠ è½½çŠ¶æ€
const fetchData = async () => {
    try {
        setLoading(true);
        const response = await fetch('/api/endpoint');
        if (!response.ok) throw new Error(`HTTP ${response.status}`);
        const data = await response.json();
        setData(data);
    } catch (error) {
        setError(error.message);
    } finally {
        setLoading(false);
    }
};
```

### å“åº”å¼è®¾è®¡

#### æ–­ç‚¹ç³»ç»Ÿ
- **mobile**: < 768px
- **tablet**: 768px - 1024px
- **desktop**: > 1024px

#### é€‚é…ç­–ç•¥
- **ç½‘æ ¼å¸ƒå±€**: è‡ªåŠ¨è°ƒæ•´åˆ—æ•° (`grid-cols-1 md:grid-cols-2 lg:grid-cols-3`)
- **å­—ä½“å¤§å°**: å“åº”å¼å­—ä½“ (`text-lg md:text-xl lg:text-2xl`)
- **é—´è·è°ƒæ•´**: åŠ¨æ€ padding å’Œ margin
- **å¯¼èˆªé€‚é…**: ç§»åŠ¨ç«¯å‹å¥½çš„å¯¼èˆªæ 

### æ€§èƒ½ä¼˜åŒ–

#### åŠ è½½ä¼˜åŒ–
- **CDNæ–¹å¼**: å‡å°‘æ„å»ºæ—¶é—´ï¼Œæé«˜åŠ è½½é€Ÿåº¦
- **å›¾ç‰‡ä¼˜åŒ–**: å°é¢å›¾ç‰‡æ‡’åŠ è½½å’Œç¼“å­˜
- **åˆ†é¡µåŠ è½½**: é¿å…ä¸€æ¬¡æ€§åŠ è½½å¤§é‡æ•°æ®
- **é”™è¯¯è¾¹ç•Œ**: é˜²æ­¢å•ä¸ªç»„ä»¶é”™è¯¯å½±å“æ•´ä¸ªåº”ç”¨

#### ç”¨æˆ·ä½“éªŒä¼˜åŒ–
- **åŠ è½½çŠ¶æ€**: æ‰€æœ‰å¼‚æ­¥æ“ä½œéƒ½æœ‰åŠ è½½æç¤º
- **é”™è¯¯å¤„ç†**: å‹å¥½çš„é”™è¯¯æç¤ºå’Œé‡è¯•æœºåˆ¶
- **çŠ¶æ€åé¦ˆ**: å®æ—¶çš„æ“ä½œçŠ¶æ€åé¦ˆ
- **åŠ¨ç”»æ•ˆæœ**: æµç•…çš„è¿‡æ¸¡åŠ¨ç”»

### å‰ç«¯å¼€å‘è§„èŒƒ

#### ä»£ç ç»„ç»‡
```javascript
// ç»„ä»¶ç»“æ„è§„èŒƒ
function ComponentName() {
    // 1. Hooks å£°æ˜
    const [state, setState] = useState(initialValue);
    
    // 2. å‰¯ä½œç”¨å¤„ç†
    useEffect(() => {
        // åˆå§‹åŒ–é€»è¾‘
    }, []);
    
    // 3. äº‹ä»¶å¤„ç†å‡½æ•°
    const handleEvent = async () => {
        // å¤„ç†é€»è¾‘
    };
    
    // 4. æ¸²æŸ“é€»è¾‘
    return (
        <div className="component-container">
            {/* JSX å†…å®¹ */}
        </div>
    );
}
```

#### æ ·å¼è§„èŒƒ
- **TailwindCSS**: ä¼˜å…ˆä½¿ç”¨ Tailwind ç±»å
- **è‡ªå®šä¹‰æ ·å¼**: ä»…åœ¨å¿…è¦æ—¶ä½¿ç”¨å†…è”æ ·å¼
- **å‘½åçº¦å®š**: éµå¾ª kebab-case å‘½å
- **å“åº”å¼**: ä¼˜å…ˆè€ƒè™‘ç§»åŠ¨ç«¯é€‚é…

#### çŠ¶æ€ç®¡ç†è§„èŒƒ
- **æœ¬åœ°çŠ¶æ€**: ä½¿ç”¨ `useState` ç®¡ç†ç»„ä»¶å†…çŠ¶æ€
- **å¼‚æ­¥çŠ¶æ€**: ç»Ÿä¸€çš„ loading/error/data æ¨¡å¼
- **çŠ¶æ€æå‡**: éœ€è¦å…±äº«çš„çŠ¶æ€æå‡åˆ°çˆ¶ç»„ä»¶
- **é”™è¯¯å¤„ç†**: æ¯ä¸ªå¼‚æ­¥æ“ä½œéƒ½è¦æœ‰é”™è¯¯å¤„ç†

### éƒ¨ç½²è¯´æ˜

#### é™æ€èµ„æº
- **CDNä¾èµ–**: è‡ªåŠ¨ä»å…¬å…±CDNåŠ è½½
- **æœ¬åœ°èµ„æº**: å°é¢å›¾ç‰‡ç­‰å­˜å‚¨åœ¨ `/covers/` ç›®å½•
- **æ¨¡æ¿æ–‡ä»¶**: ç”±FastAPIç›´æ¥æœåŠ¡

#### æµè§ˆå™¨å…¼å®¹æ€§
- **ç°ä»£æµè§ˆå™¨**: Chrome 80+, Firefox 75+, Safari 13+
- **React 18**: éœ€è¦æ”¯æŒES6+çš„æµè§ˆå™¨
- **TailwindCSS**: å…¼å®¹æ‰€æœ‰ç°ä»£æµè§ˆå™¨

#### å¼€å‘è°ƒè¯•
- **React DevTools**: æ”¯æŒç»„ä»¶è°ƒè¯•
- **æµè§ˆå™¨å¼€å‘è€…å·¥å…·**: æ ‡å‡†çš„è°ƒè¯•æµç¨‹
- **é”™è¯¯è¾¹ç•Œ**: ç»„ä»¶çº§é”™è¯¯æ•è·å’Œå±•ç¤º

